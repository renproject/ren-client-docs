"use strict";(self.webpackChunkren_client_docs=self.webpackChunkren_client_docs||[]).push([[7112],{40153:function(e,t,n){n.r(t),n.d(t,{contentTitle:function(){return c},default:function(){return h},frontMatter:function(){return p},metadata:function(){return u},toc:function(){return m}});var a=n(87462),r=n(63366),s=(n(67294),n(3905)),o=n(93454),i=n(78602),l=["components"],p={title:"RenVM Stats",slug:"/renvm-stats"},c=void 0,u={unversionedId:"renvm-stats",id:"renvm-stats",title:"RenVM Stats",description:"The RenVM Tracker is a server that syncs RenVM blocks and tracks volume, locked amounts and historic asset prices. It provides a GraphQL endpoint to query RenVM stats for a provided timestamp.",source:"@site/stats/renvm-stats.mdx",sourceDirName:".",slug:"/renvm-stats",permalink:"/ren-client-docs/stats/renvm-stats",editUrl:"https://github.com/renproject/ren-client-docs/edit/master/stats/renvm-stats.mdx",tags:[],version:"current",frontMatter:{title:"RenVM Stats",slug:"/renvm-stats"},sidebar:"subgraph",previous:{title:"About",permalink:"/ren-client-docs/stats/"},next:{title:"Darknode Stats",permalink:"/ren-client-docs/stats/darknode-stats"}},m=[{value:"Usage",id:"usage",children:[],level:3},{value:"Try it now",id:"try-it-now",children:[],level:3}],d={toc:m};function h(e){var t=e.components,n=(0,r.Z)(e,l);return(0,s.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,s.kt)(o.G,{type:o.e.HowTo,mdxType:"DocTag"})," ",(0,s.kt)(o.G,{type:o.e.Reference,mdxType:"DocTag"}),(0,s.kt)("p",null,"The RenVM Tracker is a server that syncs RenVM blocks and tracks volume, locked amounts and historic asset prices. It provides a GraphQL endpoint to query RenVM stats for a provided timestamp."),(0,s.kt)("h3",{id:"usage"},"Usage"),(0,s.kt)("p",null,"The interface is a GraphQL endpoint running at ",(0,s.kt)("a",{parentName:"p",href:"https://stats.renproject.io"},"https://stats.renproject.io")," (mainnet) and ",(0,s.kt)("a",{parentName:"p",href:"https://stats-testnet.renproject.io"},"https://stats-testnet.renproject.io")," (testnet)."),(0,s.kt)("p",null,"There is one type of queryable entities, ",(0,s.kt)("inlineCode",{parentName:"p"},"Snapshots"),", which contain RenVM's statistics for a specific timestamp. ",(0,s.kt)("inlineCode",{parentName:"p"},"Snapshots")," are created when new RenVM transactions are confirmed, batching together transactions in the same 5 minute timeslot."),(0,s.kt)("p",null,"Snapshots can be queried by providing a Unix timestamp in seconds. The request will return the most recent ",(0,s.kt)("inlineCode",{parentName:"p"},"Snapshot")," before or at that timestamp. If the timestamp is from before the first ",(0,s.kt)("inlineCode",{parentName:"p"},"Snapshot"),", an error will be thrown."),(0,s.kt)("p",null,"The volume in a ",(0,s.kt)("inlineCode",{parentName:"p"},"Snapshot")," is the total since the network came online, so to get the volume of a specific period (e.g. 1 month), you should get the snapshots from the start and the end of the period and subtract the volume and locked amounts."),(0,s.kt)("p",null,"You can request multiple snapshots in a single request by using labels (see the label ",(0,s.kt)("inlineCode",{parentName:"p"},"snapshot1")," below)."),(0,s.kt)("p",null,"The ",(0,s.kt)("inlineCode",{parentName:"p"},"fees")," field is only available for snapshots from August 2021 onwards."),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-graphql"},'{\n  snapshot1: Snapshot(timestamp: "1627300267") {\n    timestamp\n    locked {\n      asset\n      chain\n      amount\n      amountInUsd\n    }\n    volume {\n      asset\n      chain\n      amount\n      amountInUsd\n    }\n    # Only available for Snapshots from August 2021 onwards.\n    fees {\n      asset\n      amount\n      amountInUsd\n    }\n    prices {\n      asset\n      decimals\n      priceInUsd\n    }\n  }\n}\n')),(0,s.kt)("p",null,"In order to query the RenVM tracker, you will need a GraphQL library. Some options are:"),(0,s.kt)("ol",null,(0,s.kt)("li",{parentName:"ol"},"The playground below"),(0,s.kt)("li",{parentName:"ol"},"An SDK such as ",(0,s.kt)("a",{parentName:"li",href:"https://www.npmjs.com/package/@apollo/client"},"Apollo")," - see others at ",(0,s.kt)("a",{parentName:"li",href:"https://graphql.org/code/"},"https://graphql.org/code/"),"."),(0,s.kt)("li",{parentName:"ol"},"A desktop client such as ",(0,s.kt)("a",{parentName:"li",href:"https://insomnia.rest/products/insomnia"},"Insomnia")," or Postman")),(0,s.kt)("h3",{id:"try-it-now"},"Try it now"),(0,s.kt)(i.k,{minHeight:600,url:"https://stats.renproject.io",defaultQuery:'{\n  snapshot1: Snapshot(timestamp: "1627300267") {\n    timestamp\n    locked {\n      asset\n      chain\n      amount\n      amountInUsd\n    }\n    volume {\n      asset\n      chain\n      amount\n      amountInUsd\n    }\n    # Fees are only available from August 2021 onwards.\n    fees {\n      asset\n      amount\n      amountInUsd\n    }\n    prices {\n      asset\n      decimals\n      priceInUsd\n    }\n  }\n}',mdxType:"GraphQL"}))}h.isMDXComponent=!0},93454:function(e,t,n){n.d(t,{G:function(){return i},e:function(){return r}});var a,r,s=n(67294);!function(e){e.Tutorial="Tutorial",e.HowTo="How To",e.Reference="Reference",e.Explanation="Explanation"}(r||(r={}));var o=((a={})[r.Tutorial]="#b48ead",a[r.HowTo]="#69a8b9",a[r.Reference]="#bf616a",a[r.Explanation]="#d2b06c",a),i=function(e){var t=e.type,n=e.marginBottom;return s.createElement(s.Fragment,null,s.createElement("span",{style:{border:"2px solid "+o[t]||0,borderRadius:"5px",color:o[t]||"orange",padding:"0.1rem 0.4rem",marginBottom:void 0!==n?n:30,display:"inline-block"}},String(t)))}},78602:function(e,t,n){n.d(t,{k:function(){return o}});var a=n(67294),r=n(91262),s=function(e){var t=e.url,r=e.defaultQuery,s=e.docExplorerOpen,o=e.minHeight;if("undefined"==typeof window)return null;var i=n(53414).createGraphiQLFetcher,l=n(57932).ZP,p=i({url:t});return a.createElement("div",{style:{height:o||500}},a.createElement(a.Suspense,{fallback:a.createElement("div",null,"Loading...")},a.createElement(l,{docExplorerOpen:s,query:r,fetcher:p})))},o=function(e){return"undefined"==typeof window?null:a.createElement(r.Z,null,(function(){return a.createElement(a.Fragment,null,a.createElement(s,e),a.createElement("br",null))}))}}}]);